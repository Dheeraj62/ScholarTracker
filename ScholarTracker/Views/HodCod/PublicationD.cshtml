@model ScholarTracker.Models.PublicationDetails

@{
    ViewBag.Title = "PublicationD";
    Layout = "~/Views/Shared/Layout3.cshtml";
}

<div class="container-fluid">
    <h2 class="text-center text-dark">Publication Details</h2>

    @using (Html.BeginForm("SavePublication", "Publication", FormMethod.Post, new { enctype = "multipart/form-data", @class = "needs-validation", novalidate = "novalidate" }))
    {
        <div class="row">
            <div class="col-md-6">
                <label class="form-label">Journal Index:</label>
                @Html.DropDownListFor(model => model.JournalIndex, new SelectList(new[] { "SCI", "Scopus" }), "Select Index", new { @class = "form-select", required = "required" })
                @Html.ValidationMessageFor(model => model.JournalIndex, "", new { @class = "text-danger" })
            </div>

            <div class="col-md-6">
                <label class="form-label">Journal Name:</label>
                @Html.EditorFor(model => model.JournalName, new { htmlAttributes = new { @class = "form-control", required = "required" } })
                @Html.ValidationMessageFor(model => model.JournalName, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-6">
                <label class="form-label">Title Of Paper:</label>
                @Html.EditorFor(model => model.TitleOfPaper, new { htmlAttributes = new { @class = "form-control", required = "required" } })
                @Html.ValidationMessageFor(model => model.TitleOfPaper, "", new { @class = "text-danger" })
            </div>

            <div class="col-md-6">
                <label class="form-label">Publisher Name:</label>
                @Html.EditorFor(model => model.PublisherName, new { htmlAttributes = new { @class = "form-control", required = "required" } })
                @Html.ValidationMessageFor(model => model.PublisherName, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-4">
                <label class="form-label">Impact Factor:</label>
                @Html.EditorFor(model => model.ImpactFactor, new { htmlAttributes = new { @class = "form-control", type = "number", step = "0.01", required = "required" } })
                @Html.ValidationMessageFor(model => model.ImpactFactor, "", new { @class = "text-danger" })
            </div>

            <div class="col-md-4">
                <label class="form-label">Date Of Issue:</label>
                @Html.EditorFor(model => model.DateOfIssue, new { htmlAttributes = new { @class = "form-control", type = "date", required = "required" } })
                @Html.ValidationMessageFor(model => model.DateOfIssue, "", new { @class = "text-danger" })
            </div>

            <div class="col-md-4">
                <label class="form-label">Volume:</label>
                @Html.EditorFor(model => model.Volume, new { htmlAttributes = new { @class = "form-control", type = "number", required = "required" } })
                @Html.ValidationMessageFor(model => model.Volume, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-4">
                <label class="form-label">Issue:</label>
                @Html.EditorFor(model => model.Issue, new { htmlAttributes = new { @class = "form-control", type = "number", required = "required" } })
                @Html.ValidationMessageFor(model => model.Issue, "", new { @class = "text-danger" })
            </div>

            <div class="col-md-4">
                <label class="form-label">DOI:</label>
                @Html.EditorFor(model => model.Doi, new { htmlAttributes = new { @class = "form-control", required = "required" } })
                @Html.ValidationMessageFor(model => model.Doi, "", new { @class = "text-danger" })
            </div>

            <div class="col-md-4">
                <label class="form-label">Page No:</label>
                @Html.EditorFor(model => model.PageNo, new { htmlAttributes = new { @class = "form-control", required = "required" } })
                @Html.ValidationMessageFor(model => model.PageNo, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="mt-3">
            <label class="form-label">Upload Publication:</label>
            <input type="file" name="UploadPublication" class="form-control" required />
        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-danger color1">Submit</button>
        </div>
    }

    <hr />

    <h3 class="text-center mt-4">Submitted Publications</h3>
    <table class="table table-bordered mt-3">
        <thead>
            <tr>
                @*<th>SNo</th>*@
                <th>Journal Index</th>
                <th>Title</th>
                <th>Publisher</th>
                <th>Impact Factor</th>
                <th>DOI</th>
                <th>Volume</th>
                <th>Issue</th>
                <th>Page No</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var publication in Model.Publications)
            {
                <tr>
                    @*<td>@publication.SNo</td>*@
                    <td>@publication.JournalIndex</td>
                    <td>@publication.TitleOfPaper</td>
                    <td>@publication.PublisherName</td>
                    <td>@publication.ImpactFactor</td>
                    <td>@publication.Doi</td>
                    <td>@publication.Volume</td>
                    <td>@publication.Issue</td>
                    <td>@publication.PageNo</td>
                </tr>
            }
        </tbody>
    </table>
</div>
